<!-- PROGRESS BAR GENERAL-->
<div class="loader-container" [hidden]="this.componentLoading == false">
    <p-progressBar mode="indeterminate" [style]="{ height: '6px'}"></p-progressBar>
</div>

<!-- PROGRESS BAR CARGA PRODUCTOS-->
<div class="loader-prod" [hidden]="this.loadingProductos == false">
    <span id="label_status" style="color: whitesmoke; position: relative; top: 50%;">Cargando productos. Aguarde mientras se termina la operación</span>
    <p-progressBar [value]="this.productos" [style]="{ height: '50px', top: '50%'  }"></p-progressBar>
</div>

<div class="contenedor">
    <div class="buscador">
        <div class="opciones">
            <div class="drops">
                <p-dropdown 
                [options]="tienda" 
                [(ngModel)]="tiendaSelec" 
                optionLabel="tienda" 
                pTooltip="Elige entre las distintas tiendas"
                tooltipPosition="bottom" 
                placeholder="Elige una tienda" 
                class="spacingComponents"></p-dropdown>
                <p-dropdown 
                [options]="modulo" 
                [(ngModel)]="moduloSelec" 
                optionLabel="modulo"
                pTooltip="Elige entre los diferentes módulos"
                tooltipPosition="bottom"  
                placeholder="Elige un módulo"
                class="spacingComponents"></p-dropdown>
            </div>
            <div class="fechas">
                <p-calendar 
                [(ngModel)]="desde" 
                [showIcon]="true"
                [showTime]="true"
                dateFormat="dd/mm/yy"
                pTooltip="Fecha inicial de búsqueda"
                tooltipPosition="bottom" 
                class="spacingComponents"></p-calendar>
                <p-calendar 
                [(ngModel)]="hasta" 
                [showIcon]="true"
                [showTime]="true" 
                dateFormat="dd/mm/yy"
                pTooltip="Fecha final de búsqueda" 
                tooltipPosition="bottom" 
                class="spacingComponents"></p-calendar>
            </div>
        </div>
        <p-button 
        label="Buscar" 
        icon="pi pi-search" 
        styleClass="p-button-raised p-button-outlined p-button-help"  
        (onClick)="onSubmit()"
        [style]="{'margin-right': '10px'}"></p-button>
    </div>
    <div class="titulo">
        <h3><b>Cambios pendientes</b></h3>
    </div>
    <div class="grid">
        <p-toast></p-toast>
        <div class="botones">
            <div>
                <p-button
                *ngIf="sizeBtn == true"
                label="Ajustar a la pantalla" 
                icon="pi pi-window-minimize" 
                styleClass="p-button-raised p-button-outlined p-button-danger"  
                (onClick)="sizeToFit()"
                [style]="{'margin-right': '10px'}"></p-button>
                <p-button
                *ngIf="sizeBtn == false" 
                label="Volver a la configuración inicial" 
                icon="pi pi-window-maximize" 
                styleClass="p-button-raised p-button-outlined p-button-danger"  
                (onClick)="autoSizeAll(false)"
                [style]="{'margin-right': '10px'}"></p-button>
                <p-button 
                label="Actualizar seleccionados" 
                icon="pi pi-cloud-upload" 
                styleClass="p-button-raised p-button-outlined p-button-secondary"  
                (onClick)="actualizar('bottom')"></p-button>
            </div>
            <div>
                <p-button 
                label="Ver cambios realizados" 
                icon="pi pi-replay" 
                styleClass="p-button-raised p-button-outlined p-button-success"
                (onClick)="irCambios()"></p-button>
            </div>
        </div>
        <p-confirmDialog 
        [style]="{ width: '50vw' }" 
        key="positionDialog" 
        [position]="position" 
        rejectButtonStyleClass="p-button-outlined"></p-confirmDialog>
        <ag-grid-angular
        class="ag-theme-alpine mt-3 "
        id="myGrid"
        style="width: 100%; height: 100%;"
        [rowHeight]="rowHeight"
        [rowData]="rowData"
        [columnDefs]="colDefs"
        [domLayout]="domLayout"
        [gridOptions]="gridOptions"
        [pagination]=true
        [rowSelection]="'multiple'"
        [suppressRowClickSelection]="true"
        [paginationPageSize]="20"
        (gridReady)="onGridReady($event)"
        ></ag-grid-angular>
    </div>
</div>